{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ak/Desktop/CV/avo/frontend/src/App.js\";\nimport React from 'react';\nimport CameraPhoto, { FACING_MODES } from 'jslib-html5-camera-photo';\n\nclass App extends React.Component {\n  constructor(props, _context) {\n    super(props, _context);\n\n    this.convertURIToImageData = URI => {\n      return new Promise(function (resolve, reject) {\n        if (URI == null) return reject();\n        var canvas = document.createElement('canvas'),\n            context = canvas.getContext('2d'),\n            image = new Image();\n        image.addEventListener('load', function () {\n          canvas.width = image.width;\n          canvas.height = image.height;\n          context.drawImage(image, 0, 0, canvas.width, canvas.height);\n          resolve(context.getImageData(0, 0, canvas.width, canvas.height));\n        }, false);\n        image.src = URI;\n      });\n    };\n\n    this.cameraPhoto = null;\n    this.videoRef = /*#__PURE__*/React.createRef();\n    this.state = {\n      dataUri: ''\n    };\n  }\n\n  componentDidMount() {\n    // We need to instantiate CameraPhoto inside componentDidMount because we\n    // need the refs.video to get the videoElement so the component has to be\n    // mounted.\n    this.cameraPhoto = new CameraPhoto(this.videoRef.current);\n  }\n\n  startCamera(idealFacingMode, idealResolution) {\n    this.cameraPhoto.startCamera(idealFacingMode, idealResolution).then(() => {\n      console.log('camera is started !');\n    }).catch(error => {\n      console.error('Camera not started!', error);\n    });\n  }\n\n  startCameraMaxResolution(idealFacingMode) {\n    this.cameraPhoto.startCameraMaxResolution(idealFacingMode).then(() => {\n      console.log('camera is started !');\n    }).catch(error => {\n      console.error('Camera not started!', error);\n    });\n  }\n\n  takePhoto() {\n    const config = {\n      sizeFactor: 1\n    };\n    let dataUri = this.cameraPhoto.getDataUri(config);\n    this.convertURIToImageData(dataUri).then(function (imageData) {\n      // Here you can use imageData\n      console.log(\"This is image data \", typeof imageData);\n    });\n    this.setState({\n      dataUri\n    });\n  }\n\n  stopCamera() {\n    this.cameraPhoto.stopCamera().then(() => {\n      console.log('Camera stoped!');\n    }).catch(error => {\n      console.log('No camera to stop!:', error);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          let facingMode = FACING_MODES.ENVIRONMENT;\n          let idealResolution = {\n            width: 640,\n            height: 480\n          };\n          this.startCamera(facingMode, idealResolution);\n        },\n        children: \" Start environment facingMode resolution ideal 640 by 480 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          let facingMode = FACING_MODES.USER;\n          this.startCamera(facingMode, {});\n        },\n        children: \" Start user facingMode resolution default \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          let facingMode = FACING_MODES.USER;\n          this.startCameraMaxResolution(facingMode);\n        },\n        children: \" Start user facingMode resolution maximum \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.takePhoto();\n        },\n        children: \" Take photo \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.stopCamera();\n        },\n        children: \" Stop \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: this.videoRef,\n        autoPlay: \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"imgCamera\",\n        src: this.state.dataUri\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/ak/Desktop/CV/avo/frontend/src/App.js"],"names":["React","CameraPhoto","FACING_MODES","App","Component","constructor","props","context","convertURIToImageData","URI","Promise","resolve","reject","canvas","document","createElement","getContext","image","Image","addEventListener","width","height","drawImage","getImageData","src","cameraPhoto","videoRef","createRef","state","dataUri","componentDidMount","current","startCamera","idealFacingMode","idealResolution","then","console","log","catch","error","startCameraMaxResolution","takePhoto","config","sizeFactor","getDataUri","imageData","setState","stopCamera","render","facingMode","ENVIRONMENT","USER"],"mappings":"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","sourcesContent":["import React from 'react';\nimport CameraPhoto, { FACING_MODES } from 'jslib-html5-camera-photo';\n \nclass App extends React.Component {\n  constructor (props, context) {\n    super(props, context);\n    this.cameraPhoto = null;\n    this.videoRef = React.createRef();\n    this.state = {\n      dataUri: ''\n    }\n  }\n \n  componentDidMount () {\n    // We need to instantiate CameraPhoto inside componentDidMount because we\n    // need the refs.video to get the videoElement so the component has to be\n    // mounted.\n    this.cameraPhoto = new CameraPhoto(this.videoRef.current);\n  }\n \n  startCamera (idealFacingMode, idealResolution) {\n    this.cameraPhoto.startCamera(idealFacingMode, idealResolution)\n      .then(() => {\n        console.log('camera is started !');\n      })\n      .catch((error) => {\n        console.error('Camera not started!', error);\n      });\n  }\n \n  startCameraMaxResolution (idealFacingMode) {\n    this.cameraPhoto.startCameraMaxResolution(idealFacingMode)\n      .then(() => {\n        console.log('camera is started !');\n      })\n      .catch((error) => {\n        console.error('Camera not started!', error);\n      });\n  }\n \n  convertURIToImageData = (URI) => {\n    return new Promise(function(resolve, reject) {\n      if (URI == null) return reject();\n      var canvas = document.createElement('canvas'),\n          context = canvas.getContext('2d'),\n          image = new Image();\n      image.addEventListener('load', function() {\n        canvas.width = image.width;\n        canvas.height = image.height;\n        context.drawImage(image, 0, 0, canvas.width, canvas.height);\n        resolve(context.getImageData(0, 0, canvas.width, canvas.height));\n      }, false);\n      image.src = URI;\n    });\n  }\n\n\n  takePhoto () {\n    const config = {\n      sizeFactor: 1\n    };\n \n    let dataUri = this.cameraPhoto.getDataUri(config);\n    this.convertURIToImageData(dataUri)\n    .then(function(imageData){\n      // Here you can use imageData\n      console.log(\"This is image data \",typeof(imageData));\n    });\n    this.setState({ dataUri });\n  }\n \n  stopCamera () {\n    this.cameraPhoto.stopCamera()\n      .then(() => {\n        console.log('Camera stoped!');\n      })\n      .catch((error) => {\n        console.log('No camera to stop!:', error);\n      });\n  }\n \n  render () {\n    return (\n      <div>\n        <button onClick={ () => {\n          let facingMode = FACING_MODES.ENVIRONMENT;\n          let idealResolution = { width: 640, height: 480 };\n          this.startCamera(facingMode, idealResolution);\n        }}> Start environment facingMode resolution ideal 640 by 480 </button>\n \n        <button onClick={ () => {\n          let facingMode = FACING_MODES.USER;\n          this.startCamera(facingMode, {});\n        }}> Start user facingMode resolution default </button>\n \n        <button onClick={ () => {\n          let facingMode = FACING_MODES.USER;\n          this.startCameraMaxResolution(facingMode);\n        }}> Start user facingMode resolution maximum </button>\n \n        <button onClick={ () => {\n          this.takePhoto();\n        }}> Take photo </button>\n \n        <button onClick={ () => {\n          this.stopCamera();\n        }}> Stop </button>\n \n        <video\n          ref={this.videoRef}\n          autoPlay=\"true\"\n        />\n        <img\n          alt=\"imgCamera\"\n          src={this.state.dataUri}\n        />\n      </div>\n    );\n  }\n}\n \nexport default App;"]},"metadata":{},"sourceType":"module"}